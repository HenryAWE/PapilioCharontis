# 脚本
用于控制格式化输出的脚本，是标准库中替换域（replacement field）的超集。  
如果要在 C++ 代码中直接内嵌复杂脚本，建议使用 C++ 11 的[原始字符串字面量（raw string literal）](https://zh.cppreference.com/w/cpp/language/string_literal)特性。

## 替换域（Replacement Field）
与标准库和 {fmt} 类似，它用于将值插入到输出字符串中。

## 脚本域（Scripted Field）
脚本域类似于替换域，由一对大括号 (`{}`) 包围，并以 `$` 符号开头。脚本域必须包含条件语句和至少一个分支。条件语句和分支由冒号（`:`）分隔。
例如 `{$ {0} != 0: 'non-'}zero` 和 `{$ {0} != 0: 'non-zero' : 'zero'}` 含有有效的脚本域。

### 条件语句
条件语句是一个布尔表达式，可以是比较、逻辑非或可转换为 `bool` 的值。条件语句中的值可以是格式参数（`format_arg`）或常量值。通过与替换域相同的语法来引用格式参数，但不能有格式说明符。

1. 比较
    | 操作符 | 含义     |
    | -----: | :------- |
    |   `==` | 等于     |
    |   `!=` | 不等于   |
    |    `>` | 大于     |
    |    `<` | 小于     |
    |   `>=` | 大于等于 |
    |   `<=` | 小于等于 |

2. 逻辑非
   逻辑非前面有感叹号 (`!`)，只有一个操作数。

3. 可转换为 `bool` 的值
   非零数值和非空字符串被视为 `true`，否则被视为 `false`。
